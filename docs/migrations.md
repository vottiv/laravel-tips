## Migrations

- [ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹](#ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº-Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹)
- [ĞŸĞ¾Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ñ‡Ğ°ÑĞ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾ÑÑĞ°Ğ¼Ğ¸](#ĞŸĞ¾Ğ»Ñ-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸-Ñ-Ñ‡Ğ°ÑĞ¾Ğ²Ñ‹Ğ¼Ğ¸-Ğ¿Ğ¾ÑÑĞ°Ğ¼Ğ¸)
- [Ğ¢Ğ¸Ğ¿Ñ‹ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ¾Ğ² Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…](#Ğ¢Ğ¸Ğ¿Ñ‹-ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ¾Ğ²-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸-Ğ±Ğ°Ğ·Ñ‹-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)
- [Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ timestamp Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ](#Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ-timestamp-Ğ¿Ğ¾-ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ)
- [Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹](#Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹)
- [ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸](#ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ-Ğ¸Ğ¼ĞµĞ½Ğ¸-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸-Ñ-Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸)
- [Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ† Ğ¿Ğ¾ÑĞ»Ğµ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°](#Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ-ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ†-Ğ¿Ğ¾ÑĞ»Ğµ-Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾-ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°)
- [Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹](#Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ-Ğ´Ğ»Ñ-ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹-Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹)
- [Ğ’Ñ‹Ğ²Ğ¾Ğ´ SQL Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹](#Ğ’Ñ‹Ğ²Ğ¾Ğ´-SQL-Ğ¿ĞµÑ€ĞµĞ´-Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹)
- [ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸](#ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ñ‹Ğµ-Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸)
- [ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°](#ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹-Ğ´Ğ»Ñ-ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°)
- [ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°](#ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°-Ğ½Ğ°-ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ-Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹-Ğ¸Ğ»Ğ¸-ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°)
- [ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ´ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¸Ğ»Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸ĞµĞ¼ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°](#ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ°-Ğ½Ğ°-Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ-Ğ¿ĞµÑ€ĞµĞ´-Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼-Ğ¸Ğ»Ğ¸-ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸ĞµĞ¼-ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°)
- [ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ñ PostgreSQL](#ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ-Ğ¿Ğ¾Ğ»Ñ-PostgreSQL)

### ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹, Ñ‚Ğ¾ Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ¿Ğ¾Ğ¼ĞµĞ½ÑĞ¹Ñ‚Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ² Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸, Ğ½Ğ°Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€, `2023_08_04_070443_create_posts_table.php` Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚Ğµ Ğ½Ğ° `2023_07_04_070443_create_posts_table.php` (Ğ²Ğ½Ğ¸Ğ¼Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾, Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ Ğ´Ğ°Ñ‚Ğ° `2023_08_04` to `2023_07_04`).

ĞĞ½Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ÑÑ‚ÑÑ Ğ² Ğ°Ğ»Ñ„Ğ°Ğ²Ğ¸Ñ‚Ğ½Ğ¾Ğ¼ Ğ¿Ğ¾Ñ€ÑĞ´ĞºĞµ.

### ĞŸĞ¾Ğ»Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ñ‡Ğ°ÑĞ¾Ğ²Ñ‹Ğ¼Ğ¸ Ğ¿Ğ¾ÑÑĞ°Ğ¼Ğ¸

Ğ—Ğ½Ğ°ĞµÑ‚Ğµ Ğ»Ğ¸, Ñ‡Ñ‚Ğ¾ Ğ² Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ½Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ `timestamps()`, Ğ½Ğ¾  Ğ¸ `timestampsTz()`, Ğ´Ğ»Ñ Ñ‡Ğ°ÑĞ¾Ğ²Ñ‹Ñ… Ğ¿Ğ¾ÑÑĞ¾Ğ²?

```php
Schema::create('employees', function (Blueprint $table) {
    $table->increments('id');
    $table->string('name');
    $table->string('email');
    $table->timestampsTz();
});
```

Ğ¢Ğ°ĞºĞ¶Ğµ ĞµÑÑ‚ÑŒ Ñ‚Ğ°ĞºĞ¸Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ ĞºĞ¾Ğ»Ğ¾Ğ½Ğ¾Ğº `dateTimeTz()`, `timeTz()`, `timestampTz()`, `softDeletesTz()`.

### Ğ¢Ğ¸Ğ¿Ñ‹ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ¾Ğ² Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Ğ»ÑĞ±Ğ¾Ğ¿Ñ‹Ñ‚Ğ½Ñ‹Ñ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ¿Ğ¾Ğ»ĞµĞ¹ Ğ´Ğ»Ñ ÑĞ¾Ğ·Ğ´Ğ°Ğ²Ğ°ĞµĞ¼Ñ‹Ñ… Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹, Ğ¿Ñ€Ğ¸Ğ²ĞµĞ´Ñƒ Ğ¿Ğ°Ñ€Ğ¾Ñ‡ĞºÑƒ Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğ¾Ğ².

```php
$table->geometry('positions');
$table->ipAddress('visitor');
$table->macAddress('device');
$table->point('position');
$table->uuid('id');
```

ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ²ÑĞµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ² [Ğ¾Ñ„Ğ¸Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸](https://laravel.com/docs/master/migrations#creating-columns).

### Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ timestamp Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ

ĞŸÑ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²Ğ¼ĞµÑÑ‚Ğµ Ñ `timestamp()` ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ `useCurrent()` Ğ¸ `useCurrentOnUpdate()`, 
Ğ¾Ğ½Ğ¸ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³ÑƒÑ‚ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ `CURRENT_TIMESTAMP` Ğ² ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğµ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ.

```php
$table->timestamp('created_at')->useCurrent();
$table->timestamp('updated_at')->useCurrentOnUpdate();
```

### Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ Ğ¿Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹, Ñ‚Ğ¾ Ğ½ĞµÑ‚ Ğ½ÑƒĞ¶Ğ´Ñ‹ Ğ·Ğ°Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹, Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ²Ğ²ĞµÑÑ‚Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ `php artisan migrate:status`.

Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

```
Migration name .......................................................................... Batch / Status  
2023_12_01_000000_create_users_table ........................................................... [1] Ran  
2023_12_02_100000_create_password_resets_table ................................................. [1] Ran  
2023_12_03_000000_create_failed_jobs_table ..................................................... [1] Ran    
```

### ĞĞ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ñ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸

When typing `make:migration` command, you don't necessarily have to use underscore `_` symbol between parts, like `create_transactions_table`. You can put the name into quotes and then use spaces instead of underscores.

```php
// Ğ­Ñ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
php artisan make:migration create_transactions_table

// ĞĞ¾ ÑÑ‚Ğ¾ Ñ‚Ğ°ĞºĞ¶Ğµ Ğ±ÑƒĞ´ĞµÑ‚ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ
php artisan make:migration "create transactions table"
```

Ğ˜ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº: [Steve O on Twitter](https://twitter.com/stephenoldham/status/1353647972991578120)

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ† Ğ¿Ğ¾ÑĞ»Ğµ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ³Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°

_Ğ’Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ğµ: Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ MySQL_

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚Ğµ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ†, Ñ‚Ğ¾ Ğ½Ğµ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ğ½ Ğ±Ñ‹Ğ» Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¼ Ğ² ÑĞ¿Ğ¸ÑĞºĞµ. ĞœĞ¾Ğ¶Ğ½Ğ¾ ÑƒĞºĞ°Ğ·Ğ°Ñ‚ÑŒ, Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ°ĞºĞ¾Ğ³Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ° Ğ¾Ğ½ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½. 

```php
Schema::table('users', function (Blueprint $table) {
    $table->string('phone')->after('email');
});
```

Ğ¢Ğ°ĞºĞ¶Ğµ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ†, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ğ½ Ğ½Ğ°Ñ…Ğ¾Ğ´Ğ¸Ğ»ÑÑ Ğ¿ĞµÑ€ĞµĞ´ ÑƒĞºĞ°Ğ·Ğ°Ğ½Ğ½Ñ‹Ğ¼ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ¾Ğ¼.

```php
Schema::table('users', function (Blueprint $table) {
    $table->string('phone')->before('created_at');
});
```

Ğ•ÑĞ»Ğ¸ Ğ¶Ğµ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ† Ğ±Ñ‹Ğ» Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¼ Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´ `first()`.

```php
Schema::table('users', function (Blueprint $table) {
    $table->string('uuid')->first();
});
```

Ğ¢Ğ°ĞºĞ¶Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´ `after()` Ğ¿Ğ¾Ğ·Ğ²Ğ¾Ğ»ÑĞµÑ‚ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¸Ñ… Ğ¿Ğ¾Ğ»ĞµĞ¹, Ñ‚ĞµĞ¼ ÑĞ°Ğ¼Ñ‹Ğ¼ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑÑ Ğ¸Ñ… Ğ² Ğ³Ñ€ÑƒĞ¿Ğ¿Ñƒ.

```php
Schema::table('users', function (Blueprint $table) {
    $table->after('remember_token', function ($table){
        $table->string('card_brand')->nullable();
        $table->string('card_last_four', 4)->nullable();
    });
});
```

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹

Ğ•ÑĞ»Ğ¸ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰ĞµĞ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¸ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Laravel 
ÑĞ³ĞµĞ½ĞµÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ» Ğ´Ğ»Ñ Ğ²Ğ°Ñ Schema::table(), Ñ‚Ğ¾ Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ "\_in_xxxxx_table" or "\_to_xxxxx_table"
Ğ² Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ¸Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ "--table", Ğ³Ğ´Ğµ ÑƒĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ°ÑˆĞµĞ¹ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹.

ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ `php artisan change_fields_products_table` Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿ÑƒÑÑ‚Ğ¾Ğ¹ ĞºĞ»Ğ°ÑÑ.

```php
class ChangeFieldsProductsTable extends Migration
{
    public function up()
    {
        //
    }
}
```

ĞĞ¾ ÑÑ‚Ğ¾Ğ¸Ñ‚ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ `in_xxxxx_table` `php artisan make:migration change_fields_in_products_table` Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚ÑÑ `Schema::table()` Ñ Ğ¿Ñ€ĞµĞ´Ğ²Ğ°Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ½Ñ‹Ğ¼ Ğ¸Ğ¼ĞµĞ½ĞµĞ¼ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹.

```php
class ChangeFieldsProductsTable extends Migration
{
    public function up()
    {
        Schema::table('products', function (Blueprint $table) {
            //
        })
    };
}
```

Also you can specify `--table` parameter `php artisan make:migration whatever_you_want --table=products`

```php
class WhateverYouWant extends Migration
{
    public function up()
    {
        Schema::table('products', function (Blueprint $table) {
            //
        })
    };
}
```

### Ğ’Ñ‹Ğ²Ğ¾Ğ´ SQL Ğ¿ĞµÑ€ĞµĞ´ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ¾Ğ¼ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹

ĞŸÑ€Ğ¸ Ğ½Ğ°Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğ¸ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ `migrate --pretend`, Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾Ñ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¹ Ğ²Ğ¿Ğ¾ÑĞ»ĞµĞ´ÑÑ‚Ğ²Ğ¸Ğ¸ Ğ±ÑƒĞ´ĞµÑ‚ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑ‚ÑŒÑÑ. 
Ğ­Ñ‚Ğ¾ Ğ¸Ğ½Ñ‚ĞµÑ€ĞµÑĞ½Ñ‹Ğ¹ ÑĞ¿Ğ¾ÑĞ¾Ğ± Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸.

```php
php artisan migrate --pretend
```

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ [@zarpelon](https://github.com/zarpelon)

### ĞĞ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ñ‹Ğµ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ° Laravel Ğ²Ñ‹Ğ¿ÑƒÑÑ‚Ğ¸Ğ»Ğ° Laravel 8.37 Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¾Ğ¹ Ğ°Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ğ¾Ğ¹ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸, 
ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ñ€ĞµÑˆĞ°ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñƒ GitHub Ñ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚Ğ°Ğ¼Ğ¸ Ğ¸Ğ¼ĞµĞ½ ĞºĞ»Ğ°ÑÑĞ¾Ğ² Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸.

Ğ¡ÑƒÑ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ² Ñ‚Ğ¾Ğ¼, Ñ‡Ñ‚Ğ¾ ĞµÑĞ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹ Ğ¸Ğ¼ĞµÑÑ‚ Ğ¾Ğ´Ğ½Ğ¾ Ğ¸ Ñ‚Ğ¾ Ğ¶Ğµ Ğ¸Ğ¼Ñ ĞºĞ»Ğ°ÑÑĞ°, ÑÑ‚Ğ¾ Ğ²Ñ‹Ğ·Ğ¾Ğ²ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞµ Ğ²Ğ¾ÑÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ Ğ½ÑƒĞ»Ñ.

Ğ’Ğ¾Ñ‚ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€ Ğ¸Ğ· [pull request](https://github.com/laravel/framework/pull/36906):

```php
use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration {
    public function up(
    {
        Schema::table('people', function (Blueprint $table) {
            $table->string('first_name')->nullable();
        });
    }

    public function down()
    {
        Schema::table('people', function (Blueprint $table) {
            $table->dropColumn('first_name');
        });
    }
};
```

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ [@nicksdot](https://twitter.com/nicksdot/status/1432340806275198978)

### ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ Ğ´Ğ»Ñ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°

Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Â«ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹Â» Ğ¾ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğµ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ Ğ²Ğ°ÑˆĞ¸Ñ… Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹, Ñ‚ĞµĞ¼ ÑĞ°Ğ¼Ñ‹Ğ¼ Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚Ğµ Ğ¿Ğ¾Ğ»ĞµĞ·Ğ½ÑƒÑ Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ.

Ğ•ÑĞ»Ğ¸ Ğ±Ğ°Ğ·Ğ¾Ğ¹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ĞºÑ‚Ğ¾-Ñ‚Ğ¾, ĞºÑ€Ğ¾Ğ¼Ğµ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ², Ğ¾Ğ½Ğ¸ Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¿Ñ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ñ‚ÑŒ ĞºĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¸ Ğ² ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¿ĞµÑ€ĞµĞ´ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸ĞµĞ¼ ĞºĞ°ĞºĞ¸Ñ…-Ğ»Ğ¸Ğ±Ğ¾ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹.

```php
$table->unsignedInteger('interval')
    ->index()
    ->comment('This column is used for indexing.')
```

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ [@nicksdot](https://twitter.com/nicksdot/status/1432340806275198978)

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° ÑÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°

Ğ’Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ¸Ğ»Ğ¸ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°, Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒÑ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹ hasTable Ğ¸ hasColumn:

```php
if (Schema::hasTable('users')) {
    // Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° "users" ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚...
}

if (Schema::hasColumn('users', 'email')) {
    // Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° "users" Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ° Ğ¸ Ğ¸Ğ¼ĞµĞµÑ‚ Ğ¿Ğ¾Ğ»Ğµ "email"...
}
```

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ [@dipeshsukhia](https://github.com/dipeshsukhia)

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ½Ğ° Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ´ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ¸Ğ»Ğ¸ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸ĞµĞ¼ ÑÑ‚Ğ¾Ğ»Ğ±Ñ†Ğ°

Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ¾Ğ»Ğ±ĞµÑ† Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñƒ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…, Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ¾Ğ½ Ğ¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚, Ğ¸ Ğ¼Ğ¾Ğ¶ĞµÑ‚Ğµ ÑƒĞ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞµĞ³Ğ¾, ĞµÑĞ»Ğ¸ Ğ¾Ğ½ Ğ¿Ñ€Ğ¸ÑÑƒÑ‚ÑÑ‚Ğ²ÑƒĞµÑ‚. Ğ”Ğ»Ñ ÑÑ‚Ğ¾Ğ³Ğ¾ Ğ²Ğ²Ğ¾Ğ´ÑÑ‚ÑÑ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ Ğ¼ĞµÑ‚Ğ¾Ğ´Ñ‹:

ğŸ‘‰ whenTableDoesntHaveColumn

ğŸ‘‰ whenTableHasColumn

Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ Ğ´Ğ»Ñ Laravel 9.6.0

```php
return new class extends Migration {
    public function up()
    {
        Schema::whenTableDoesntHaveColumn('users', 'name', function (Blueprint $table) {
            $table->string('name', 30);
        });
    }

    public function down()
    {
        Schema::whenTableHasColumn('users', 'name', function (Blueprint $table) {
            $table->dropColumn('name');
        });
    }
}
```

Ğ¡Ğ¾Ğ²ĞµÑ‚ Ğ¾Ñ‚ [@iamharis010](https://twitter.com/iamharis010/status/1510579415163432961)

___

### ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»Ñ PostgreSQL

Ğ•ÑĞ»Ğ¸ Ğ²Ğ°Ğ¼ Ğ¿Ğ¾Ñ‚Ñ€ĞµĞ±ÑƒĞµÑ‚ÑÑ Ğ¿ĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğµ, Ñ‚Ğ¾ Ğ´Ğ»Ñ PostgreSQL Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸ĞµĞ¼.

```php
return new class extends Migration {
    public function up()
    {
        DB::transaction(function () {
            DB::statement('ALTER TABLE settings_workflows RENAME COLUMN after_hiring TO after_date');
        });
    }

    public function down()
    {
        DB::transaction(function () {
            DB::statement('ALTER TABLE settings_workflows RENAME COLUMN after_date TO after_hiring');
        });
    }
}
```

Ğ”Ğ»Ñ MySQL Ğ¿Ğ¾Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ñ‚Ğ°ĞºĞ¾Ğ¹ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚.

```php
return new class extends Migration {
    public function up()
    {
        Schema::table('settings_workflows', function(Blueprint $table) {
            $table->renameColumn('after_hiring', 'after_date');
        });
    }


    public function down()
    {
        Schema::table('settings_workflows', function(Blueprint $table) {
            $table->renameColumn('after_date', 'after_hiring');
        });
    }
}
```